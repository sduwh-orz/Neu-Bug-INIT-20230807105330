import{d as $,a as p,v as g,O as f,z as q,A as V,r as h,_ as j,c as N,e,w as n,F as x,i as o,o as b,f as r,g as i,B as O,h as P,C as T,b as z,D as L}from"./index-lKMbzYlX.js";import{B as K}from"./BreadCrumbNav-BtYp_qB0.js";import{P as M}from"./Pagination-BMhTTIco.js";import{b as I}from"./bug-BKAMD9Bi.js";const d=p(!0),U=$({computed:{Operation(){return g},TrendCharts(){return f}},components:{Pagination:M,List:q,TrendCharts:f,Operation:g,BreadCrumbNav:K,Search:V},mounted(){this.page.update()},setup(){return{loading:d,page:p()}},data(){return{dialogToggle:p(!1),data:h([]),query:h({keyword:""}),selectedItem:void 0}},methods:{async updateData(){d.value=!0;let a=await I.projectSearch(this.query.keyword,this.page.page,this.page.size);return this.data.length=0,Object.assign(this.data,a.data),d.value=!1,a},handleSearch(){this.page.update()},handleManage(a,t){this.page.jump("/bugs?id="+t.id)},handleStats(a,t){this.page.jump("/stats?id="+t.id)}}}),G={class:"card-header"},H={class:"card-header"};function J(a,t,Q,R,W,X){const w=o("BreadCrumbNav"),y=o("Search"),c=o("el-icon"),B=o("el-input"),v=o("el-form-item"),C=o("el-form"),s=o("el-button"),E=o("el-row"),m=o("el-card"),F=o("List"),u=o("el-table-column"),_=o("el-tooltip"),k=o("el-table"),D=o("Pagination"),A=L("loading");return b(),N(x,null,[e(w,{"page-paths":["Bug 管理","项目列表"]}),e(m,{class:"info-card",shadow:"never"},{header:n(()=>[r("div",G,[e(c,null,{default:n(()=>[e(y)]),_:1}),t[2]||(t[2]=i("   ")),t[3]||(t[3]=r("span",null,"查询信息",-1))])]),footer:n(()=>[e(E,{class:"row-bg",justify:"end"},{default:n(()=>[t[5]||(t[5]=r("div",{class:"flex-grow"},null,-1)),e(s,{type:"primary",onClick:a.handleSearch,round:""},{default:n(()=>t[4]||(t[4]=[i("查询")])),_:1},8,["onClick"])]),_:1})]),default:n(()=>[e(C,{"label-width":"auto",onSubmit:t[1]||(t[1]=O(()=>{},["prevent"])),onKeyup:P(a.handleSearch,["enter"])},{default:n(()=>[e(v,{label:"项目名称",style:{"max-width":"60%"},"label-width":"100"},{default:n(()=>[e(B,{modelValue:a.query.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>a.query.keyword=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["onKeyup"])]),_:1}),e(m,{class:"info-card",shadow:"never"},{header:n(()=>[r("div",H,[e(c,null,{default:n(()=>[e(F)]),_:1}),t[6]||(t[6]=i("   ")),t[7]||(t[7]=r("span",null,"列表信息",-1))])]),footer:n(()=>[e(D,{ref:"page","update-data":a.updateData,query:a.query,module:"bug",path:"list"},null,8,["update-data","query"])]),default:n(()=>[T((b(),z(k,{data:a.data,style:{width:"100%"},"empty-text":"没有找到匹配的记录"},{default:n(()=>[e(u,{align:"center",type:"index",label:"序号",width:"80"}),e(u,{align:"center",prop:"name",label:"项目名称"}),e(u,{align:"center",prop:"owner",label:"项目负责人"}),e(u,{align:"center",prop:"bugs",label:"Bug 总数"}),e(u,{align:"center",label:"操作",width:"100"},{default:n(l=>[e(_,{class:"box-item",content:"Bug 管理",placement:"top"},{default:n(()=>[e(s,{icon:a.Operation,size:"small",type:"primary",onClick:S=>a.handleManage(l.$index,l.row),circle:""},null,8,["icon","onClick"])]),_:2},1024),e(_,{class:"box-item",content:"Bug 统计",placement:"top"},{default:n(()=>[e(s,{icon:a.TrendCharts,size:"small",type:"warning",onClick:S=>a.handleStats(l.$index,l.row),circle:""},null,8,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[A,a.loading]])]),_:1})],64)}const ae=j(U,[["render",J]]);export{ae as default};
